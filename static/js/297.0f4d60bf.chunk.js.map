{"version":3,"file":"static/js/297.0f4d60bf.chunk.js","mappings":"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","sources":["components/Api/FetchApi.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/MoviesGalleryItem/MoviesGalleryItem.styled.jsx","components/MoviesGalleryItem/MoviesGalleryItem.jsx","components/MoviesGallery/MoviesGallery.styled.jsx","components/MoviesGallery/MoviesGallery.jsx","components/Section/Section.styled.jsx","components/Section/Section.jsx","components/helpers/uniqueBy.jsx","components/helpers/urlGenerator.jsx","components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\n//api.themoviedb.org/3/trending/movie/week?api_key=76cbb606f190fc237086ec33f1fd98a3&page=1 -----trand\n\n//api.themoviedb.org/3/search/movie?api_key=76cbb606f190fc237086ec33f1fd98a3&language=en-US&query=cats&page=1&include_adult=false -----search\n\n//api.themoviedb.org/3/movie/550?api_key=76cbb606f190fc237086ec33f1fd98a3&language=en-US -----details\n\n//api.themoviedb.org/3/movie/550/credits?api_key=76cbb606f190fc237086ec33f1fd98a3&language=en-US -----cast\n\n//api.themoviedb.org/3/movie/550/reviews?api_key=76cbb606f190fc237086ec33f1fd98a3&language=en-US -----reviews\n\nexport const API_KEY = '76cbb606f190fc237086ec33f1fd98a3';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrandingMovies = async (pageNumber = 1, options) => {\n  try {\n    const response = await axios.get(\n      `trending/all/day?api_key=${API_KEY}&page=${pageNumber}`,\n      options\n    );\n\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchSearchMovies = async (searchQuery, pageNumber, options) => {\n  try {\n    const response = await axios.get(\n      `search/movie?api_key=${API_KEY}&language=en-US&query=${searchQuery}&page=${pageNumber}&include_adult=false`,\n      options\n    );\n\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieDetails = async (filmId, options) => {\n  try {\n    const response = await axios.get(\n      `movie/${filmId}?api_key=76cbb606f190fc237086ec33f1fd98a3&language=en-US`,\n      options\n    );\n\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieReviews = async (filmId, options) => {\n  try {\n    const response = await axios.get(\n      `movie/${filmId}/reviews?api_key=76cbb606f190fc237086ec33f1fd98a3&language=en-US`,\n      options\n    );\n\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieCredits = async (filmId, options) => {\n  try {\n    const response = await axios.get(\n      `movie/${filmId}/credits?api_key=76cbb606f190fc237086ec33f1fd98a3&language=en-US`,\n      options\n    );\n\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import styled from 'styled-components';\n\nexport const LoadMoreBtn = styled.button`\n  padding: 8px 16px;\n  margin: 0 auto;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  background: linear-gradient(145deg, #0d013e, #2711ba);\n  box-shadow: 2px 6px 8px #2e2bc2, -2px -2px 6px #1d06eb;\n  transition: 250ms transform ease-in-out, 300ms box-shadow ease-out,\n    150ms color ease-in;\n  cursor: pointer;\n  &:hover,\n  &:focus {\n    color: #ffbb00;\n    transform: scale(1.1);\n    box-shadow: 2px 6px 8px #b8c501, -2px -2px 6px #fbff00;\n  }\n`;\n","import { LoadMoreBtn } from './Button.styled';\nimport PropTypes from 'prop-types';\n\nexport const Button = ({ onClick }) => {\n  return (\n    <LoadMoreBtn onClick={onClick} type=\"button\">\n      Show more\n    </LoadMoreBtn>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nexport const MoviesGalleryItemWrp = styled.li`\n  flex-basis: calc((100% - 3 * 20px) / 4);\n  border-radius: 6px;\n  color: #ffffff;\n  background: linear-gradient(145deg, #0d013e, #2711ba);\n  box-shadow: 2px 6px 8px #2e2bc2, -2px -2px 6px #1d06eb;\n  transition: 250ms transform ease-in-out, 300ms box-shadow ease-out,\n    150ms color ease-in;\n  &:hover,\n  &:focus {\n    color: #ffbb00;\n    transform: scale(1.02);\n    box-shadow: 2px 6px 8px #b8c501, -2px -2px 6px #fbff00;\n    cursor: pointer;\n  }\n`;\n\nexport const StyledLink = styled(NavLink)`\n  font-family: inherit;\n  text-decoration: none;\n  color: #ffffff;\n  &.active {\n    color: #ffbb00;\n    background: linear-gradient(145deg, #1b0181, #0149a8);\n  }\n`;\n\nexport const MoviesGalleryImageWrp = styled.div`\n  display: block;\n`;\n\nexport const MoviesGalleryImg = styled.img`\n  width: 100%;\n  object-fit: cover;\n  height: 450px;\n`;\n\nexport const MoviesGalleryContentWrp = styled.div`\n  padding: 14px;\n`;\n\nexport const MoviesGalleryTitle = styled.h2`\n  font-size: 22px;\n  font-weight: 500;\n  height: 80px;\n`;\n\nexport const MoviesGalleryDate = styled.p`\n  font-weight: 500;\n`;\n\nexport const MoviesGalleryWrp = styled.span`\n  font-weight: 400;\n`;\n","import PropTypes from 'prop-types';\nimport { StyledLink } from './MoviesGalleryItem.styled';\nimport {\n  MoviesGalleryItemWrp,\n  MoviesGalleryImageWrp,\n  MoviesGalleryImg,\n  MoviesGalleryContentWrp,\n  MoviesGalleryTitle,\n  MoviesGalleryDate,\n  MoviesGalleryWrp,\n} from './MoviesGalleryItem.styled';\nimport { urlGenerator } from 'components/helpers/urlGenerator';\nimport { useLocation } from 'react-router-dom';\n\nexport const MoviesGalleryItem = ({\n  movie: { title, name, poster_path, release_date, id },\n}) => {\n  const location = useLocation();\n  return (\n    <MoviesGalleryItemWrp>\n      <StyledLink to={`/movies/${id}`} state={{ from: location }}>\n        <MoviesGalleryImageWrp>\n          <MoviesGalleryImg\n            src={urlGenerator(poster_path)}\n            alt={title || name}\n          />\n        </MoviesGalleryImageWrp>\n        <MoviesGalleryContentWrp>\n          <MoviesGalleryTitle>{title || name}</MoviesGalleryTitle>\n          <MoviesGalleryDate>\n            Release date:\n            <MoviesGalleryWrp> {release_date || 'not found'}</MoviesGalleryWrp>\n          </MoviesGalleryDate>\n        </MoviesGalleryContentWrp>\n      </StyledLink>\n    </MoviesGalleryItemWrp>\n  );\n};\n\nMoviesGalleryItem.propTypes = {\n  movie: PropTypes.shape({\n    title: PropTypes.string,\n    name: PropTypes.string,\n    poster_path: PropTypes.string,\n    release_date: PropTypes.string,\n    id: PropTypes.number,\n  }),\n};\n","import styled from 'styled-components';\n\nexport const MoviesGalleryList = styled.ul`\n  display: flex;\n  gap: 20px;\n  flex-wrap: wrap;\n  margin: 0px auto;\n  list-style: none;\n`;\n","import { MoviesGalleryItem } from 'components/MoviesGalleryItem/MoviesGalleryItem';\nimport { MoviesGalleryList } from './MoviesGallery.styled';\nimport PropTypes from 'prop-types';\n\nexport const MoviesGallery = ({ movies }) => {\n  return (\n    <MoviesGalleryList>\n      {movies.map(movie => (\n        <MoviesGalleryItem key={movie.id} movie={movie} />\n      ))}\n    </MoviesGalleryList>\n  );\n};\n\nMoviesGallery.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired\n  ),\n};\n","import styled from 'styled-components';\n\nexport const SectionWrp = styled.section`\n  padding: 40px 0;\n`;\n\nexport const SectionTitle = styled.h1`\n  font-size: 30px;\n  text-align: center;\n`;\n","import PropTypes from 'prop-types';\nimport { SectionWrp, SectionTitle } from './Section.styled';\nimport { Container } from 'components/SharedLayout/SharedLayout.styled';\n\nexport const Section = ({ title, children }) => {\n  return (\n    <SectionWrp>\n      <Container>\n        <SectionTitle>{title}</SectionTitle>\n        {children}\n      </Container>\n    </SectionWrp>\n  );\n};\n\nSection.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.any,\n};\n","export const uniqueBy = (arr, prop) => {\n  const set = new Set();\n  return arr.filter(obj => !set.has(obj[prop]) && set.add(obj[prop]));\n};\n","export const urlGenerator = path => {\n  // if (path.startsWith('http')) {\n  //   return path;\n  // }\n  if (!path) {\n    return 'https://placeholder.pics/svg/300/7050FF-2716FF/FFFFFF/Not%20found';\n  }\n\n  return path.startsWith('/https')\n    ? path.slice(1)\n    : `https://image.tmdb.org/t/p/w500/${path}`;\n};\n","import styled from 'styled-components';\n\nexport const SearchForm = styled.form`\n  position: absolute;\n  top: 12px;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: transparent;\n  border-radius: 6px;\n  overflow: hidden;\n  background: linear-gradient(145deg, #0d013e, #2711ba);\n  box-shadow: 2px 6px 8px #2e2bc2, -2px -2px 6px #1d06eb;\n  transition: 300ms box-shadow ease-out, 150ms color ease-in;\n  cursor: pointer;\n  &:hover,\n  &:focus,\n  &:active {\n    color: #ffbb00;\n    box-shadow: 2px 6px 8px #b8c501, -2px -2px 6px #fbff00;\n  }\n`;\n\nexport const SearchFormBtn = styled.button`\n  display: inline-block;\n  background-color: transparent;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const SearchFormBtnLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nexport const SearchFormInput = styled.input`\n  display: inline-block;\n  background-color: transparent;\n  width: 100%;\n  font-family: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  color: #fff;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n    color: #fff;\n  }\n`;\n","import {\n  SearchForm,\n  SearchFormBtn,\n  SearchFormBtnLabel,\n  SearchFormInput,\n} from './Searchbar.styled';\nimport PropTypes from 'prop-types';\nimport { FcSearch } from 'react-icons/fc';\n\nexport const Searchbar = ({ onSubmit }) => {\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(e.target.search.value.trim().toLowerCase());\n    e.currentTarget.reset();\n  };\n  return (\n    <SearchForm onSubmit={handleSubmit}>\n      <SearchFormBtn type=\"submit\">\n        <FcSearch size=\"30\" />\n        <SearchFormBtnLabel>Search</SearchFormBtnLabel>\n      </SearchFormBtn>\n      <SearchFormInput\n        name=\"search\"\n        type=\"text\"\n        autoComplete=\"off\"\n        placeholder=\"Search movies\"\n      />\n    </SearchForm>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { Searchbar } from 'components/Searchbar/Searchbar';\nimport { useState, useEffect } from 'react';\nimport { fetchSearchMovies } from 'components/Api/FetchApi';\nimport { Loader } from 'components/Loader/Loader';\nimport { MoviesGallery } from 'components/MoviesGallery/MoviesGallery';\nimport { Button } from 'components/Button/Button';\nimport { uniqueBy } from 'components/helpers/uniqueBy';\nimport { useSearchParams } from 'react-router-dom';\nimport { Section } from 'components/Section/Section';\nimport PropTypes from 'prop-types';\n\nconst Movies = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [totalPages, setTotalPages] = useState(0);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieName = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    const controller = new AbortController();\n    setIsLoading(true);\n    const getMovieBySearch = async (query, page) => {\n      try {\n        const data = await fetchSearchMovies(query, page, {\n          signal: controller.signal,\n        });\n\n        if (!data.results) {\n          return;\n        }\n        setTotalPages(data.total_pages);\n        setMovies(prevMovies => {\n          return page === 1 ? data.results : [...prevMovies, ...data.results];\n        });\n        setMovies(prevMovies => uniqueBy(prevMovies, 'id'));\n\n        return data;\n      } catch (error) {\n        setMovies([]);\n        console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (!searchQuery) {\n      return;\n    }\n    getMovieBySearch(searchQuery, page);\n    return () => controller.abort();\n  }, [searchQuery, page]);\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const getMovieBySearch = async (query, page) => {\n      try {\n        if (!movieName) {\n          return;\n        }\n        setIsLoading(true);\n        const data = await fetchSearchMovies(query, page, {\n          signal: controller.signal,\n        });\n        setTotalPages(data.total_pages);\n        setMovies(prevMovies => {\n          return page === 1 ? data.results : [...prevMovies, ...data.results];\n        });\n        setMovies(prevMovies => uniqueBy(prevMovies, 'id'));\n\n        return data;\n      } catch (error) {\n        setMovies([]);\n        console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getMovieBySearch(movieName, page);\n    return () => controller.abort();\n  }, [movieName, page]);\n\n  const handleOnSearch = query => {\n    if (query === '' || query === searchQuery) {\n      return;\n    }\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n    setMovies([]);\n    setSearchQuery(query);\n    setPage(1);\n  };\n\n  const handleOnLoad = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n  if (movies) {\n    return (\n      <main>\n        <Searchbar movieName={movieName} onSubmit={handleOnSearch} />\n        <Section>\n          <MoviesGallery movies={movies} />\n        </Section>\n\n        {isLoading && <Loader />}\n        {!!movies.length && page < totalPages && (\n          <Button onClick={handleOnLoad} />\n        )}\n      </main>\n    );\n  }\n};\n\nMovies.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string.isRequired,\n      poster_path: PropTypes.string.isRequired,\n      release_date: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n    }).isRequired\n  ),\n  searchQuery: PropTypes.string,\n  page: PropTypes.number,\n  isLoading: PropTypes.bool,\n  totalPages: PropTypes.number,\n};\n\nexport default Movies;\n"],"names":["API_KEY","axios","fetchTrandingMovies","pageNumber","options","response","data","console","log","fetchSearchMovies","searchQuery","fetchMovieDetails","filmId","fetchMovieReviews","fetchMovieCredits","LoadMoreBtn","styled","Button","onClick","type","MoviesGalleryItemWrp","StyledLink","NavLink","MoviesGalleryImageWrp","MoviesGalleryImg","MoviesGalleryContentWrp","MoviesGalleryTitle","MoviesGalleryDate","MoviesGalleryWrp","MoviesGalleryItem","movie","title","name","poster_path","release_date","id","location","useLocation","to","state","from","src","urlGenerator","alt","MoviesGalleryList","MoviesGallery","movies","map","SectionWrp","SectionTitle","Section","children","uniqueBy","arr","prop","set","Set","filter","obj","has","add","path","startsWith","slice","SearchForm","SearchFormBtn","SearchFormBtnLabel","SearchFormInput","Searchbar","onSubmit","e","preventDefault","target","search","value","trim","toLowerCase","currentTarget","reset","size","autoComplete","placeholder","useState","setSearchQuery","setMovies","page","setPage","isLoading","setIsLoading","totalPages","setTotalPages","useSearchParams","searchParams","setSearchParams","movieName","get","useEffect","controller","AbortController","getMovieBySearch","query","signal","results","total_pages","prevMovies","abort","Loader","length","prevPage"],"sourceRoot":""}